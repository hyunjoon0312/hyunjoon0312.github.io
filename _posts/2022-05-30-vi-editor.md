---
title:  "vim 명령어 단축키, 이것만 알면 된다!(with. vi)"
excerpt: "vim 명령어와 단축키에 대한 설명"
toc: true
toc_sticky: true
toc_label: "목차"

categories:
  - Linux
tags:
  - Linux

---

<p>&nbsp;</p>

 리눅스를 사용하면서 필수로 알아할 편집기가 vi, vim 편집기 입니다. 그러나 입문자나 처음 vim 편집기를 접하시는 분들에겐 이건 뭐 마우스도 안되고, 키보드도 내 마음대로 안되고 어떻게 쓰라는건가… 싶으실 수 있습니다. 그래서 이번 포스팅에서는 이렇게 처음 vim 편집기를 접하는 분들에게 이것만 알면 사용에 전혀 어려움이 없도록, vim 명령어 단축키에 대한 내용을 준비해 보았습니다.

-----

<p>&nbsp;</p>

# vi 편집기와 vim 편집기의 차이

우리는 보통 vi 명령어를 통해서 편집기를 실행시키고는 하는데, 그렇다면 vi 명령어로 실행시키는 편집기와 vim 명령어로 실행시키는 편집기는 다른 것일까요?   
결론부터 말씀드리자면 **같은 편집기**로 보시면 됩니다. vim 에디터는 vi 편집기가 개선된 버전으로 vi 편집기를 좀 더 편하게 사용할 수 있도록 만든 것이 vim 편집기 입니다.  
따라서 두 편집기는 사용하기 좀 더 편한 기능이 추가되었는가 추가되지 않았는가의 차이 일 뿐이지 같은 편집기입니다. 즉, vim 편집기를 설치한 후에는 vi와 vim을 구분할 필요가 없기 때문에 vi 명령어를 실행하더라도 이때부터는 자동으로 vim 편집기가 실행 됩니다.  그렇다면 vim 편집기가 설치되어 있지 않다면?   
당연히 vim 명령어로는 편집기를 실행시킬 수 없으며, vi 명령어로 개선된 기능이 없는 좀 더 불편한 vi 편집기만 사용할 수 있습니다.  

![vim 화면](https://drive.google.com/uc?export=view&id=1lugTOBKcrWebdN1Mq2iXW4RH-_q3IiIM)

-----

<p>&nbsp;</p>

# vim 필수 명령어와 단축키

## 일반 모드 / 명령 모드 / 편집 모드

vim 편집기에는 세가지 모드가 존재합니다. 첫번째로 내용을 확인하고 화면 스크롤 정도만 할 수 있는 **일반 모드** 입니다. 일반 모드에서는 아무런 작업도 할 수 없습니다.  

두번째로는 **명령 모드** 입니다. 명령 모드로 진입하는 방법은 일반 모드에서 ‘ : (콜론)’ 을 입력하면 시작됩니다. 이때 쌍따옴표에 이어서 문자열 치환 같은 명령어를 입력할 수 있습니다. 예를 들면 mr_gamelife 라는 단어를 mr_devlife 로 치환하는 명령어를 다음과 같이 명령 모드에서 실행할 수 있습니다. 명령 모드에 진입하였다가 다시 일반 모드로 돌아가기 위해서는 어떠한 명령을 실행시켜주거나 ESC 키를 눌러주면 됩니다.  

```bash
:s%/mr_gamelif/mr_devlif/g 
```
  
마지막으로 **편집 모드** 입니다. 편지 모드는 코드와 같은 문자를 입력하는 모드를 이야기 합니다. 입력 모드로 들어가기 위해서는 일반 모드에서 a / i / o / r 등의 단축키를 사용하면 됩니다. 그리고 편집이 끝나고 다시 일반 모드로 돌아가기 위해서는 명령 모드와 동일하게 ESC 키를 눌러주면 일반 모드로 돌아가게 됩니다.  

- a : 현재 커서가 있는 문자의 뒤쪽부터 입력이 시작
- i : 현재 커서가 있는 문자의 앞쪽부터 입력이 시작
- o : 현재 커서가 있는 바로 아래줄에 한줄을 추가하며 입력이 시작
- r : 현재 커서가 있는 문자를 r 다음에 누른 문자로 치환



## 실행 / 저장 / 종료

실행, 저장, 종료는 모두 명령 모드에서만 가능합니다. 따라서 편집 모드라면 ESC 키를 눌러서 일반 모드로 돌아온 뒤 :(콜론)을 눌러서 명령 모드에서 실행시켜주어야 합니다.  

- q + Enter : 편집기 종료(변경된 내용이 있을 경우 종료 불가능)
- q! + Enter : 변경된 내용을 저장하지 않고 편집기 종료
- w + Enter : 변경된 내용 저장(편집기 종료되지 않음)
- wq + Enter : 변경된 내용을 저장하고 편집기 종료

![vim 편집기 저장 후 종료](https://drive.google.com/uc?export=view&id=1jyUnQIBGbDPGM4me2SC7S88ZgDZELNHz)



## 한칸씩 커서 이동하기

기능이 개선된 vim 편집기에서는 키보드 오른쪽에 위치해 있는 화살표 방향키로도 커서 이동이 가능합니다. 하지만 vi 편집기에서는 화살표 방향키로 커서 이동이 불가능할 뿐더러 지금 알려드리는 알파벳 키로 커서 이동을 익히게 되신다면 vim 편집기에서도 더 효율적인 커서 이동이 가능합니다. 왜냐하면 손을 방향키까지 옮길 필요 없이 바로 타이핑을 하시다가 커서 이동이 가능하기 때문입니다. 커서 이동은 **일반 모드**에서 가능합니다.  

- h : 왼쪽으로 이동
- j : 아래로 이동
- k : 위로 이동
- l : 오른쪽으로 이동

![vim 커서이동](https://drive.google.com/uc?export=view&id=1WOffMsmM7FTCiyRFaB_ZUTsmjiGBioni)




## 여러 칸씩 커서 이동하기

커서를 이동하는 방법에는 위와 같이 한칸씩 이동하는 방법도 있으나 한 줄이 길어졌을 경우 한칸씩 이동하기에는 오래 걸리는 경우가 있습니다. 이럴 때 유용하게 사용하는 방법이 **단어 단위로 이동** 또는 **원하는 문자로 이동** 입니다.  

- w : 오른쪽으로 부호 또는 단어 단위로 이동(=, %, : 등 모든 부호를 인식함)
- b : 왼쪽으로 부호 또는 단어 단위로 이동(=, %, : 등 모든 부호를 인식함)
- Shift + w : 오른쪽으로 공백/스페이스 단위로 이동(부호를 인식하지 않음)
- Shift + b : 왼쪽으로 공백/스페이스 단위로 이동(부호를 인식하지 않음)
- Shift + 4 : 현재 커서가 위치한 줄의 맨 오른쪽 문자로 이동
- Shift + 6 : 현재 커서가 위치한 줄의 맨 왼쪽 문자로 이동
- f + [이동하고 싶은 문자] : 커서의 오른쪽에 있는 문자로 이동(ex. f + n : 커서 오른쪽 첫번째 n으로 이동)
- ;(세미 콜론) : 방금 검색한 문자를 반복해서 오른쪽으로 검색(ex. 직전에 n을 검색 했다면 n을 오른쪽 반복 검색)
- Shift + f + [이동하고 싶은 문자] : 커서의 왼쪽에 있는 문자로 이동
- ,(콤마) : 방금 검색한 문자를 반복해서 왼쪽으로 검색(ex. 직전에 n을 사용 했다면 n을 왼쪽으로 반복 검색)



## 화면 스크롤

일반 모드에서 편집기 화면을 아래로 내려가고 싶다면 보통 커서를 움직여서 내려가고는 합니다. 이때 좀 더 편리하게 **커서를 움직이지 않고 화면을 스크롤 할 수 있는 방법**입니다.  

- Ctrl + e : 한줄씩 아래로 스크롤
- Ctrl + y : 한줄씩 위로 스크롤
- Shift + g : 맨 아래 줄로 이동
- g + g : 맨 윗 줄로 이동
- :(콜론) + [줄 번호] : 원하는 줄 번호로 이동



## 삭제 /복사 / 붙여넣기

일반 모드에서 단축키를 통해 문자 한개를 지우거나 커서가 있는 한줄을 지울 수 있습니다. 또한 vim 편집기에서 삭제는 잘라내기 동작을 수행하는 것과 같은 동작으로 삭제한 문자나 줄을 다시 붙여 넣을 수 있습니다. 삭제 없이 복사만 하고 싶다면 y+y 나 Shift + y를 사용하는 방법도 있습니다.  

- d : 현재 커서가 있는 문자 삭제
- dd : 현재 커서가 있는 줄 삭제
- Shift + d : 현재 커서가 있는 부분부터 오른쪽 끝까지 삭제
- y + y : 현재 커서가 있는 줄을 복사
- Shift + y : 현재 커서가 있는 줄을 복사
- p : 삭제 또는 복사한 문자/줄을 아래에 붙여 넣기
- Shift + p : 삭제 또는 복사한 문자/줄을 위에 붙여 넣기



## 작업 되돌리기 / 이전 명령어 반복

편집기를 사용하다 보면 실행했던 작업을 뒤로 되돌리고 싶거나, 뒤로 되돌렸던 작업을 다시 앞으로 되돌리고 싶은 경우가 있습니다. 이럴 때 사용할 수 있는 단축키가 u와 ctrl+r 입니다. 역시나 일반 모드에서 실행하면 되며, vim 편집기의 경우 파일을 열고 난 후에 실행하였던 모든 작업을 기록하고 있습니다. 따라서 몇 번의 작업을 실행했던 다시 처음으로 돌리는 것도 가능합니다.  

- u : 실행했던 작업을 뒤로 되돌리기
- Ctrl + r : 방금 실행했던 작업을 앞으로 되돌리기
- .(마침표) : 직전에 실행했던 작업 재실행

-----

<p>&nbsp;</p>

# 비주얼 모드

비주얼 모드로 진입하게 되면 마우스를 사용하지 않고 블럭지정이 가능합니다. 이렇게 블럭지정을 한 뒤에 앞서 배운 y를 눌러 복사를 하거나, d를 눌러서 삭제를 하는 것도 가능합니다.  

- v : 한 문자씩 선택하여 블럭지정 가능( VISUAL)
- Shift + v : 한 줄씩 선택하여 블럭 지정 가능(VISUAL LINE)
- Ctrl + v : 한 문자씩 선택하여 줄에 관계 없이 블럭 지정 가능(VISUAL BLOCK)

![visual block mode](https://drive.google.com/uc?export=view&id=1PRubpa2ANFR4OOT6JNjcD2YfmvYXui3Z)


## 단어 검색

윈도우에서 ctrl + f로 단어 검색을 하듯이 vim 편집기에서도 단어 검색이 가능합니다.   

- / + [찾을 단어] + Enter: 커서가 있는 줄에서 아래쪽으로 단어를 검색 합니다.
- ? + [찾을 단어] + Enter : 커서가 있는 줄에서 위쪽으로 단어를 검색합니다.
- n : / 또는 ?를 이용하여 단어 검색 후, n을 누르면 동일한 방향으로 다음 해당 단어를 찾습니다.



## 화면 분할

putty나 secureCRT 등의 SSH 터미널 프로그램을 사용하여 여러개의 창을 띄워서 사용하는 것도 가능하지만, vim 편집기에서는 자체적으로 화면 분할을 하여 여러개의 파일을 띄울 수 있는 기능이 존재합니다.  

- :(콤마) + vs : 화면을 수직으로 분할 한다.
- :(콤마) + sp : 화면을 수평으로 분할한다.
  
분할된 화면에서 커서를 옮기는 방법으로는 **Ctrl + w** 를 누른 뒤에 2-3 에서 언급한 **h, j, k, l** 키를 이용해서 분할된 화면으로 커서를 옮길 수 있습니다. 이렇게 화면 분할을 사용하면 처음에는 동일한 파일이 화면 분할하여 보이게 됩니다.   

![vim 화면분할](https://drive.google.com/uc?export=view&id=1Ayw24fOgA320VVCZzDs8kaLC_M0A8IGG)


이렇게 동일한 화면을 두개 보는 것은 의미가 없기 때문에 분할하여 띄운 옆에 화면에 원하는 다른 파일을 열 수 있습니다.  

- :(콤마) + E : 열려 있는 파일과 동일한 위치에서 파일 탐색기가 실행된다  

파일 탐색기 화면이 열리면 열고 싶은 파일을 선택하여 Enter를 치면 열리게 됩니다.   

![vim 새파일 열기](https://drive.google.com/uc?export=view&id=1PECjVZjxU0CPKt_CfewXQPvWg-fnV3BX)

-----

<p>&nbsp;</p>

# vim 환경 설정

vim 편집기를 좀 더 편리하게 사용하기 위해서는 약간의 설정을 추가해주어야 합니다. 그럴 때 .vimrc 파일을 수정하여 원하는 설정 값을 입력해 줍니다.  

```bash
syntax on
set number relativenumber
set showmatch
set cursorline
set ruler
set mouse=a

set hlsearch
set incsearch
set ignorecase
set smartcase

set autoindent
set tabstop=4
set expandtab

set softtabstop=4
set paste
set pastetoggle=<F2>

set encoding=utf-8
set fileencodings=utf-8
```


- syntax on : 언어별 구문 강조 표시 
- set number relativenumber : 커서를 기준으로 상대적인 줄 번호 표시
- set showmatch : 커서가 있는 괄호 또는 따옴표의 쌍을 표시
- set cursorline : 현재 커서가 있는 줄을 강조(밑줄)
- set ruler : 커서 위치 표시
- set mouse=a : 마우스로 스크롤 가능(n : 일반 모드, v : 비주얼 모드, i : 입력 모드, a : 모든 모드)
- set hlsearch : 검색된 결과 강조 표시
- set incsearch : 검색하고자 하는 문자를 입력함과 동시에 일치하는 문자를 강조하여 표시
- set ignorecase : 검색시 대소문자를 구분하지 않음 
- set smartcase : ignorecase가 적용되어 있더라도 대문자를 검색하면 정확히 일치하는 문자 검색 
- set autoindent : 언어에 따라 자동 들여쓰기
- set tabstop=4 : Tab으로 들여쓰가 할 때 공백 수
- set expandtab : Tab으로 들여쓰기 하더라도 스페이스 바로 공백을 입력함
- set softtabstop=4 : 스페이스 바 n개를 하나의 Tab으로 변경
- set paste : 붙여 넣기시 들여쓰기 하지 않음
- set pastetoggle=\<F2> : F2키로 paste를 껐다 켰다 가능
- set encoding=utf-8 : 문자 인코딩을 utf-8로 지정
- set fileencodings=utf-8 : 파일 인코딩을 utf-8로 지정

-----

<p>&nbsp;</p>

# 마치며

이렇게 vim 편집기에 대해 알아 보았습니다. 리눅스 OS를 사용하게 되면 필수적으로 사용해야하는 편집기이기 때문에 꼭 이정도 명령어는 익히셔서 좀 더 편하게 사용하실 수 있으면 좋을것 같습니다. 내용 중 수정할 부분이나 궁금하신 부분이 있으시다면 언제든 댓글 부탁드리겠습니다.  


- https://www.vim.org/
- https://github.com/vim/vim
- https://www.youtube.com/watch?v=-txKSRn0qeA
